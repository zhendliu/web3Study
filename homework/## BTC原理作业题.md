## BTC原理作业题
### 什么是比特币中的 P2P 网络技术
- 比特币中的P2P（点对点）网络技术是比特币系统的核心组成部分之一，它使得比特币能够作为一个去中心化的数字货币系统运行。在比特币网络中，不存在中央服务器，所有的交易和区块都是通过P2P网络传播的。
  每个网络节点都在本地保存着完整的交易记录，并且参与到网络的管理中去。这种网络结构确保了比特币网络的去中心化特性，提高了系统的安全性和抗审查能力。
### 区块链在比特币中起什么作用
- 区块链作为一种分布式账本，存储了比特币网络中的所有交易记录。每个参与者（节点）都保存着一份区块链的副本，确保了交易记录的公开透明和不可篡改。

- 通过区块链技术，比特币网络中的每个节点都能够验证交易的有效性，并就网络状态达成一致。这种一致性是通过工作量证明（Proof of Work，PoW）机制实现的，确保了网络中的所有节点对账本的最新状态有相同的认识。
### 比特币如何使用工作量证明机制
- 矿工从待确认交易的内存池中选择交易，构造新区块，并进行Hash运算。如果运算结果符合当前的难度目标，矿工将新区块广播到整个网络；如果不符合，则改变区块头的某个字段后再次尝试。
- 工作量证明机制不仅确保了账本的一致性，还保障了区块链的安全。通过竞争记账权的过程，网络中的节点达成共识，确认哪些交易是有效的，并将其添加到区块链中
- 比特币网络中的节点需要完成系统提供的数学题，即进行耗费算力和时间的哈希计算来获得记账权。谁先完成计算并满足条件，就优先获得记账权。
### 最长链原则是如何在比特币中应用的
- 同一笔钱的多次交易中，只有第一次交易有效，且这些交易不可能存在于同一个链条中。第二次交易所在区块一定是从主链上分叉出去的。由于记账权的竞争依赖于算力，而比特币系统中任意节点都可以竞争记账权，
主链增长速度更快，分叉链条则较慢。最终，由于攻击者的算力无法与全网算力竞争，只有主链会被系统承认，从而解决双花问题。
### 比特币系统中的分叉是如何发生的
- 分叉在比特币中通常是由于软件升级或规则变更引起的。
- 当比特币协议发生不向前兼容的变更，导致新旧节点无法在同一个链上工作，形成永久性分叉。
- 协议变更是向前兼容的，新节点产生的区块仍可被旧节点接受，新旧节点可以在同一链上工作。
### 硬分叉与软分叉有何区别
- 硬分叉后，新节点会认可旧节点产生的区块，但反之则否。这种分叉是永久性的，只要旧节点不更新软件，原先的主链就不会消失，并且无法合并两条链，这就叫做硬分叉。
- 软分叉是指比特币协议发生部分变化，但旧节点仍能接受新节点产生（挖出）的区块，并基于新区块继续添加旧区块。由于软分叉是向前兼容的，新旧节点仍然运行在同一条区块链上，不会产生两条链
### 什么是比特币的 Coinbase 交易
- 每个区块都会包含至少一个交易，第一笔交易就叫做 coinbase，每笔交易都包含了 input 和 output，正常交易的 input 是转账来源方的钱包地址，output 就是接收方的地址；
而 coinbase 的 input 没有任何地址，只有 output 记录了给与矿工打包区块成功的奖励和手续费。Coinbase 是一笔特殊交易
### UTXO 模型是什么
- 比特币采用了一种创新的账户余额模型，与常见系统中只记录某个账户余额的方式不同。这种模型被称为“未花费的交易输出”，简称 UTXO（Unspent Transaction Output）
- 比特币全节点会追踪和统计网络中所有可用的未花费交易输出，这些交易输出被称为 UTXO 集合。当我们说某用户拥有多少比特币时，实际上指的是比特币网络中有多少 UTXO 可以被该用户控制的密钥使用
- 在比特币网络中，每笔交易的每个输出都是一定数量的不可分割的比特币，这些输出由全网共同验证，并可能被其持有者用作后续交易的输入
### 比特币如何解决双花问题
- 当一笔比特币交易被创建并广播到区块链网络后，接收到此交易信息的节点会对其进行验证，检查其是否存在于 UTXO 数据库中。如果交易输出已不存在于 UTXO 中，则验证失败。
- 6 次确认：指在当前区块之后又有 5 个区块被计算出来并连接到区块链上，每一个区块都相当于对前一个区块的确认。
- 分叉及最长链原则：最终，最长的链条会被确认为主链，其他分支链条上的节点将转换阵营，开始在较长的链条上工作，其他分叉出来的链将被网络抛弃。
### 什么是比特币的工作量证明（PoW）机制
- 为了保证每个账本的一致性，比特币引入了工作量证明机制。网络中的节点需要完成系统提供的数学题（即进行耗费算力和时间的哈希计算）才能获得记账权
- 这一机制不仅确保了账本的一致性，还保障了区块链的安全。
- 比特币网络的挖矿难度是动态调整的，以确保大约每 10 分钟产生一个新区块
### 比特币地址是如何生成的
- 在比特币系统中，私钥用于签名交易，本质上是一个 256 位的大整数。公钥则通过 ECDSA 算法从私钥中计算出来，这一过程不可逆推
- 比特币采用 Base58 编码对私钥进行编码，有非压缩和压缩两种编码格式，分别对应非压缩和压缩的公钥格式
### 隔离见证（SegWit）是什么，它如何工作
- 隔离见证通过将解锁脚本（包含签名信息）从交易明细中分离出来，计算交易 ID 时不再包括解锁脚本内容，使交易 ID 成为固定值。
- 隔离见证（SegWit）是一种改变区块数据存储结构的区块链扩容方案，需要 95% 的矿工节点进行软件升级才能完全激活
### 比特币挖矿是如何进行的
- 比特币挖矿是通过运行 SHA-256 哈希算法，不断调整区块头中的随机数（nonce），直到找到一个值使得区块的哈希值满足网络当前的难度目标。
- 成功挖掘一个区块的矿工将获得新比特币和交易手续费作为奖励。
### 比特币网络是如何保护用户隐私的
- 比特币账本是全网公开的，任何人都可以根据公钥查询余额，但无法知道公钥的拥有者是谁，这体现了比特币的匿名特性。"
- 用户可以生成任意数量的私钥-公钥对，公钥用于接收比特币，私钥是唯一能花费比特币的手段。
### 比特币的难度调整是如何工作的
- 比特币网络的挖矿难度是动态调整的，以确保大约每 10 分钟产生一个新区块。难度值在每 2016 个区块（约两周）调整一次
- 如果平均区块生成时间小于 10 分钟，说明全网算力增加，难度会相应增加；反之，如果平均生成时间大于 10 分钟，说明全网算力减少，难度会相应降低
